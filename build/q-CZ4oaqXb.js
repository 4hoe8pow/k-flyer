import{h as u,A as w,a as b,k as l,z as M,c as g,N as c,E as v,n as P,g as r}from"./q-rUQDvmhZ.js";import{_ as i}from"./q-CZ4IwKn6.js";import{S as j}from"./q-Bnc8FEGB.js";const W=()=>{const[e]=u();e()},D=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_qVcaLXLlgCc:W},Symbol.toStringTag,{value:"Module"})),L=e=>{const[t,n,a,o]=u();if(o.value===null)return;if(e.changedTouches.length===0){a();return}const h=e.changedTouches[0].clientX-o.value;Math.abs(h)>45&&n.phases.length>1&&(h<0?t.value=Math.min(t.value+1,n.phases.length-1):t.value=Math.max(t.value-1,0)),a()},N=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_pMCYqNalyUA:L},Symbol.toStringTag,{value:"Module"})),z=e=>{const[t,n,a]=u();if(e.touches.length!==1)return;const o=e.touches[0];n.value=o.clientX,a.value=o.clientY,t.value=null},A=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_UMCi71LotEg:z},Symbol.toStringTag,{value:"Module"})),Y=e=>{const[t,n]=u();if(e.key==="ArrowLeft")return e.preventDefault(),n();if(e.key==="ArrowRight")return e.preventDefault(),t()},q=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_F0jZixZWnlc:Y},Symbol.toStringTag,{value:"Module"})),V=e=>{const[t,n,a]=u();if(e.touches.length!==1||n.value===null||a.value===null)return;const o=e.touches[0],p=o.clientX-n.value,h=o.clientY-a.value;if(t.value===null){const d=Math.abs(p),m=Math.abs(h);(d>10||m>10)&&(t.value=d>m?"horizontal":"vertical")}t.value==="horizontal"&&e.preventDefault()},X=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_4oVQJExsdWA:V},Symbol.toStringTag,{value:"Module"})),C=()=>{const[e,t,n]=u();t.value=null,n.value=null,e.value=null},I=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_qG5OdEn6Z2Q:C},Symbol.toStringTag,{value:"Module"})),$=()=>{const[e]=u();e.value=Math.max(e.value-1,0)},k=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_NqX0YiNN0W8:$},Symbol.toStringTag,{value:"Module"})),R=()=>{const[e,t]=u();e.value=Math.min(e.value+1,t.phases.length-1)},Q=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_guz19FNW03Q:R},Symbol.toStringTag,{value:"Module"})),Z=()=>{const[e,t]=u();e.value=t},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_a3qrG3Vzqog:Z},Symbol.toStringTag,{value:"Module"})),G=e=>{w();const t=b(0),n=b(null),a=b(null),o=b(null);if(e.phases.length===0)return null;const p=c(()=>i(()=>Promise.resolve().then(()=>k),void 0),"s_NqX0YiNN0W8",[t]),h=c(()=>i(()=>Promise.resolve().then(()=>Q),void 0),"s_guz19FNW03Q",[t,e]),d=c(()=>i(()=>Promise.resolve().then(()=>q),void 0),"s_F0jZixZWnlc",[h,p]),m=c(()=>i(()=>Promise.resolve().then(()=>A),void 0),"s_UMCi71LotEg",[o,n,a]),y=c(()=>i(()=>Promise.resolve().then(()=>X),void 0),"s_4oVQJExsdWA",[o,n,a]),f=c(()=>i(()=>Promise.resolve().then(()=>I),void 0),"s_qG5OdEn6Z2Q",[o,n,a]),T=c(()=>i(()=>Promise.resolve().then(()=>N),void 0),"s_pMCYqNalyUA",[t,e,f,n]),O=c(()=>i(()=>Promise.resolve().then(()=>D),void 0),"s_qVcaLXLlgCc",[f]);return l("section",null,{class:"about-section about-section--phases"},[M(j,{kicker:"Historical Phases",title:"振興の沿革",intro:"年代ごとの主要な出来事を整理し、普及と競技化のプロセスを俯瞰します。",[g]:{kicker:g,title:g,intro:g}},3,"RY_0"),l("div",null,{class:"phase-carousel","aria-live":"polite",onKeyDown$:d},[l("div",null,{class:"phase-carousel-window",onTouchStart$:m,onTouchMove$:y,onTouchEnd$:T,onTouchCancel$:O},l("div",null,{class:"phase-carousel-track",style:v(s=>`--phase-index:${s.value};`,[t])},e.phases.map((s,_)=>l("article",{"aria-hidden":t.value===_?"false":"true",tabIndex:t.value===_?0:-1},{class:"phase-card","aria-roledescription":"slide"},[l("header",null,{class:"phase-card-header"},[l("span",null,{class:"phase-card-index"},P(s,"id"),1,null),l("div",null,{class:"phase-card-meta"},[l("h3",null,{class:"phase-card-title"},P(s,"period"),1,null),l("p",null,{class:"phase-card-summary"},P(s,"summary"),1,null)],1,null)],1,null),l("div",null,{class:"phase-card-track","aria-hidden":"true"},l("span",{style:`--phase-start:${s.timeline.start}%;--phase-span:${s.timeline.span}%;`},{class:"phase-card-bar"},null,3,null),1,null),l("ul",null,{class:"phase-card-topics"},s.topics.map(S=>l("li",null,{class:"phase-topic-card"},[l("h4",null,{class:"phase-topic-title"},P(S,"title"),1,null),l("ul",null,{class:"phase-topic-items"},S.items.map((E,x)=>l("li",null,{class:"phase-topic-item"},E,1,`${S.title}-${x}`)),1,null)],1,S.title)),1,null)],1,s.id)),1,null),1,null),l("div",null,{class:"phase-carousel-controls"},[l("button",null,{type:"button",class:"phase-carousel-button",disabled:v(s=>s.value===0,[t]),"aria-label":"前のフェーズへ",onClick$:p},l("span",null,{"aria-hidden":"true"},"<",3,null),3,null),l("span",null,{class:"phase-carousel-status"},[v(s=>s.value+1,[t]),"/",v(s=>s.phases.length,[e])],3,null),l("button",null,{type:"button",class:"phase-carousel-button",disabled:v((s,_)=>s.value===_.phases.length-1,[t,e]),"aria-label":"次のフェーズへ",onClick$:h},l("span",null,{"aria-hidden":"true"},">",3,null),3,null)],3,null),l("div",null,{class:"phase-carousel-pagination"},e.phases.map((s,_)=>l("button",{class:`phase-carousel-dot${t.value===_?" phase-carousel-dot--active":""}`,"aria-label":`${s.period}に移動`,"aria-current":t.value===_?"true":void 0,onClick$:c(()=>i(()=>Promise.resolve().then(()=>F),void 0),"s_a3qrG3Vzqog",[t,_])},{type:"button"},null,2,s.id)),1,null)],1,null)],1,"RY_1")},H=Object.freeze(Object.defineProperty({__proto__:null,s_DbdOP00LlPY:G},Symbol.toStringTag,{value:"Module"}));export{r as _hW,H as p,V as s_4oVQJExsdWA,G as s_DbdOP00LlPY,Y as s_F0jZixZWnlc,$ as s_NqX0YiNN0W8,z as s_UMCi71LotEg,Z as s_a3qrG3Vzqog,R as s_guz19FNW03Q,L as s_pMCYqNalyUA,C as s_qG5OdEn6Z2Q,W as s_qVcaLXLlgCc};
