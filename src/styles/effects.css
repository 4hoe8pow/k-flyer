/* Motion definitions */
@keyframes fade-blur {
	0% {
		opacity: 0;
		filter: blur(var(--glow-blur-md));
		transform: translateY(10px);
	}
	100% {
		opacity: 1;
		filter: blur(0);
		transform: translateY(0);
	}
}

@keyframes float {
	from {
		background-position:
			0 0,
			100% 100%;
	}
	to {
		background-position:
			100% 0,
			0 100%;
	}
}

@keyframes subtle-glow {
	0% {
		opacity: 0.6;
		filter: drop-shadow(
			0 0 var(--glow-blur-md) rgba(var(--color-horizon-green), 0.4)
		);
	}
	50% {
		opacity: 0.75;
		filter: drop-shadow(
			0 0 var(--glow-blur-lg) rgba(var(--color-horizon-green), 0.5)
		);
	}
	100% {
		opacity: 0.9;
		filter: drop-shadow(
			0 0 var(--glow-blur-lg) rgba(var(--color-horizon-green), 0.45)
		);
	}
}

@keyframes glitch-1 {
	0%,
	100% {
		transform: translate(0);
		opacity: 0;
	}
	33% {
		transform: translate(
			calc(-1 * var(--glitch-offset)),
			calc(var(--glitch-offset) * 0.67)
		);
		opacity: 0.8;
	}
	34% {
		transform: translate(0);
		opacity: 0;
	}
}

@keyframes glitch-2 {
	0%,
	100% {
		transform: translate(0);
		opacity: 0;
	}
	66% {
		transform: translate(
			var(--glitch-offset),
			calc(-1 * var(--glitch-offset) * 0.67)
		);
		opacity: 0.7;
	}
	67% {
		transform: translate(0);
		opacity: 0;
	}
}

@keyframes texture-shift {
	from {
		transform: translate(0, 0);
	}
	to {
		transform: translate(var(--glitch-offset), var(--glitch-offset));
	}
}

/* Scroll fade utility */
.animate-fade-blur {
	animation: fade-blur var(--anim-fade-duration) ease-out forwards;
	animation-fill-mode: both;
}

.animate-fade-blur-delay {
	animation: fade-blur var(--anim-fade-duration) ease-out var(--anim-fade-delay)
		forwards;
	animation-fill-mode: both;
}

[data-scroll-fade] {
	--scroll-fade-ambient: 0;
}

.scroll-fade {
	position: relative;
	opacity: 1;
	transform: translateY(0);
	filter: blur(0);
	transition:
		opacity 0.6s cubic-bezier(0.19, 1, 0.22, 1),
		transform 0.6s cubic-bezier(0.19, 1, 0.22, 1),
		filter 0.75s ease-out;
	will-change: opacity, transform, filter;
}

.scroll-fade:not(.scroll-fade--visible) {
	opacity: 0;
	transform: translateY(calc(var(--space-base) * 2.4));
	filter: blur(18px);
}

.scroll-fade--visible {
	opacity: 1;
	transform: translateY(0);
	filter: blur(0);
	--scroll-fade-ambient: 1;
}
