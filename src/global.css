@import "tailwindcss";

:root {
	/* ========================================
	   カラーパレット
	   ======================================== */
	--accent: 255, 255, 255;
	--color-orange: 255, 140, 0;
	--color-purple: 138, 43, 226;
	--color-bg-dark: #0a0a0a;

	/* ========================================
	   白銀比 (1:√2 ≈ 1:1.414)
	   日本の伝統的な美の比率
	   ======================================== */
	--ratio-silver: 1.414;
	--ratio-silver-inverse: 0.707; /* 1/√2 */

	/* ========================================
	   スペーシング - 白銀比による調和的な余白
	   ======================================== */
	--space-base: 1rem;
	--space-silver-1: calc(
		var(--space-base) *
		var(--ratio-silver)
	); /* 1.414rem */
	--space-silver-2: calc(
		var(--space-silver-1) *
		var(--ratio-silver)
	); /* 2rem */
	--space-silver-3: calc(
		var(--space-silver-2) *
		var(--ratio-silver)
	); /* 2.828rem */
	--space-silver-4: calc(
		var(--space-silver-3) *
		var(--ratio-silver)
	); /* 4rem */

	/* ========================================
	   タイポグラフィ
	   ======================================== */
	--hero-tracking: 0.414em; /* √2 - 1 */

	/* ========================================
	   アニメーション時間 - 白銀比のリズム
	   ======================================== */
	--anim-base: 1.414s;
	--anim-fade-duration: var(--anim-base);
	--anim-fade-delay: calc(
		var(--anim-base) *
		var(--ratio-silver-inverse)
	); /* ≈ 1s */
	--anim-float-duration: calc(var(--anim-base) * 20); /* ≈ 28.28s */
	--anim-glow-duration: calc(var(--anim-base) * 4); /* ≈ 5.656s */
	--anim-glitch-duration: calc(var(--anim-base) * 2); /* ≈ 2.828s */
	--anim-cta-duration: calc(
		var(--anim-base) *
		var(--ratio-silver-inverse) *
		var(--ratio-silver-inverse)
	); /* ≈ 0.5s */

	/* ========================================
	   グロー効果 - 白銀比による段階的強度
	   ======================================== */
	--glow-base: 4px;
	--glow-blur-sm: var(--glow-base);
	--glow-blur-md: calc(var(--glow-base) * var(--ratio-silver)); /* ≈ 5.656px */
	--glow-blur-lg: calc(var(--glow-blur-md) * var(--ratio-silver)); /* ≈ 8px */
	--glow-blur-xl: calc(
		var(--glow-blur-lg) *
		var(--ratio-silver)
	); /* ≈ 11.31px */

	/* ========================================
	   グリッチエフェクト用
	   ======================================== */
	--glitch-offset: calc(3px * var(--ratio-silver-inverse)); /* ≈ 2.12px */
}

/* ========================================
   アニメーション定義
   ======================================== */

/* フェードイン + ブラー効果 */
@keyframes fade-blur {
	0% {
		opacity: 0;
		filter: blur(var(--glow-blur-md));
		transform: translateY(10px);
	}
	100% {
		opacity: 1;
		filter: blur(0);
		transform: translateY(0);
	}
}

/* 背景浮遊アニメーション */
@keyframes float {
	from {
		background-position:
			0 0,
			100% 100%;
	}
	to {
		background-position:
			100% 0,
			0 100%;
	}
}

/* グロー脈動 */
@keyframes subtle-glow {
	0% {
		opacity: 0.6;
		filter: drop-shadow(0 0 var(--glow-blur-md) rgba(var(--color-orange), 0.4));
	}
	50% {
		opacity: 0.75;
		filter: drop-shadow(0 0 var(--glow-blur-lg) rgba(var(--color-orange), 0.5));
	}
	100% {
		opacity: 0.9;
		filter: drop-shadow(
			0 0 var(--glow-blur-lg) rgba(var(--color-orange), 0.45)
		);
	}
}

/* グリッチエフェクト - 上部レイヤー */
@keyframes glitch-1 {
	0%,
	100% {
		transform: translate(0);
		opacity: 0;
	}
	33% {
		transform: translate(
			calc(-1 * var(--glitch-offset)),
			calc(var(--glitch-offset) * 0.67)
		);
		opacity: 0.8;
	}
	34% {
		transform: translate(0);
		opacity: 0;
	}
}

/* グリッチエフェクト - 下部レイヤー */
@keyframes glitch-2 {
	0%,
	100% {
		transform: translate(0);
		opacity: 0;
	}
	66% {
		transform: translate(
			var(--glitch-offset),
			calc(-1 * var(--glitch-offset) * 0.67)
		);
		opacity: 0.7;
	}
	67% {
		transform: translate(0);
		opacity: 0;
	}
}

/* テクスチャシフト */
@keyframes texture-shift {
	from {
		transform: translate(0, 0);
	}
	to {
		transform: translate(var(--glitch-offset), var(--glitch-offset));
	}
}

/* ========================================
   ユーティリティクラス
   ======================================== */

.animate-fade-blur {
	animation: fade-blur var(--anim-fade-duration) ease-out forwards;
	animation-fill-mode: both;
}

.animate-fade-blur-delay {
	animation: fade-blur var(--anim-fade-duration) ease-out var(--anim-fade-delay)
		forwards;
	animation-fill-mode: both;
}

/* ========================================
   背景スタイル
   ======================================== */

body {
	background:
		radial-gradient(
			at 30% 20%,
			rgba(var(--color-orange), 0.05),
			transparent 50%
		),
		radial-gradient(
			at 70% 80%,
			rgba(var(--color-purple), 0.03),
			transparent 50%
		), var(--color-bg-dark);
	background-blend-mode: screen;
	overflow: hidden;
	position: relative;
}

.bg-particles::before {
	content: "";
	position: absolute;
	inset: 0;
	background:
		radial-gradient(
			circle at 30% 30%,
			rgba(var(--color-orange), 0.06),
			transparent 40%
		),
		radial-gradient(
			circle at 70% 70%,
			rgba(var(--color-orange), 0.05),
			transparent 40%
		);
	background-size: 200% 200%;
	animation:
		float var(--anim-float-duration) ease-in-out infinite alternate,
		subtle-glow var(--anim-glow-duration) ease-in-out infinite alternate;
	filter: blur(5px);
	opacity: 0.85;
}

/* ========================================
   Heroセクション
   ======================================== */

.hero__title-wrapper {
	perspective: 1000px;
	padding: var(--space-silver-2) 0;
}

.hero__title {
	position: relative;
	font-weight: 100;
	letter-spacing: var(--hero-tracking);
	line-height: var(--ratio-silver-inverse);
	transform-style: preserve-3d;
	/* 強烈なオレンジグロー - 複数レイヤー */
	text-shadow:
		0 0 calc(var(--glow-blur-xl) * 2) rgba(var(--color-orange), 0.6),
		0 0 var(--glow-blur-xl) rgba(var(--color-orange), 0.5),
		0 0 var(--glow-blur-lg) rgba(var(--color-orange), 0.4),
		/* 紫の煌めき */
		0 0 var(--glow-blur-lg) rgba(var(--color-purple), 0.4),
		0 0 var(--glow-blur-md) rgba(var(--color-purple), 0.3),
		/* 深みのある影 */
		calc(var(--ratio-silver-inverse) * 2px) calc(
			var(--ratio-silver-inverse) *
			2px
		)
		0 rgba(0, 0, 0, 0.5);
}

.hero__subtitle {
	margin-top: var(--space-silver-3);
}

/* ========================================
   グリッチエフェクト
   ======================================== */

.hero__glitch,
.hero__glitch-alt {
	position: absolute;
	inset: 0;
	opacity: 0;
	mix-blend-mode: screen;
	pointer-events: none;
}

.hero__glitch::before,
.hero__glitch-alt::before {
	content: attr(data-text);
	position: absolute;
	inset: 0;
}

.hero__glitch::before {
	color: rgba(var(--color-orange), 0.85);
	animation: glitch-1 var(--anim-glitch-duration) infinite;
	clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
}

.hero__glitch-alt::before {
	color: rgba(var(--color-purple), 0.75);
	animation: glitch-2 var(--anim-glitch-duration) infinite;
	clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
}

/* ========================================
   テクスチャオーバーレイ
   ======================================== */

.hero__texture {
	background:
		repeating-linear-gradient(
			0deg,
			transparent,
			transparent calc(2px * var(--ratio-silver)),
			rgba(255, 255, 255, 0.01) calc(2px * var(--ratio-silver)),
			rgba(255, 255, 255, 0.01) calc(4px * var(--ratio-silver))
		),
		repeating-linear-gradient(
			90deg,
			transparent,
			transparent calc(2px * var(--ratio-silver)),
			rgba(255, 255, 255, 0.008) calc(2px * var(--ratio-silver)),
			rgba(255, 255, 255, 0.008) calc(4px * var(--ratio-silver))
		);
	opacity: 0.4;
	animation: texture-shift
		calc(var(--anim-glitch-duration) * 2 * var(--ratio-silver)) linear infinite;
}

/* ========================================
   CTAリンク - 逆ホバーカード (デフォルトで発光)
   ======================================== */

.cta {
	position: relative;
	margin-top: var(--space-silver-4);
	padding: calc(var(--space-base) * 0.75)
		calc(var(--space-base) * var(--ratio-silver));
	border: 1px solid rgba(var(--color-orange), 0.5);
	border-radius: 2px;
	color: rgba(255, 255, 255, 0.95);
	/* デフォルト状態: 外側が発光 */
	box-shadow:
		0 0 var(--glow-blur-xl) rgba(var(--color-orange), 0.6),
		0 0 var(--glow-blur-lg) rgba(var(--color-orange), 0.4),
		0 0 var(--glow-blur-md) rgba(var(--color-purple), 0.3),
		inset 0 0 var(--glow-blur-sm) rgba(var(--color-orange), 0.1);
	background: rgba(var(--color-orange), 0.05);
	transition:
		color var(--anim-cta-duration) ease,
		box-shadow var(--anim-cta-duration) ease,
		background var(--anim-cta-duration) ease,
		border-color var(--anim-cta-duration) ease,
		letter-spacing var(--anim-cta-duration) ease;
}

/* 下線エフェクト */
.cta::after {
	content: "";
	position: absolute;
	left: 50%;
	bottom: calc(-3px * var(--ratio-silver-inverse));
	width: 0;
	height: 1px;
	background: linear-gradient(
		90deg,
		transparent,
		rgba(var(--color-orange), 0.8),
		transparent
	);
	transform: translateX(-50%);
	transition: width var(--anim-cta-duration) ease;
}

/* ホバー時: グロー消失、下線展開、文字間広がる */
.cta:hover {
	color: rgba(255, 255, 255, 0.7);
	letter-spacing: calc(0.3em * var(--ratio-silver));
	border-color: transparent;
	background: transparent;
	box-shadow: none;
}

.cta:hover::after {
	width: calc(100% * var(--ratio-silver));
}
